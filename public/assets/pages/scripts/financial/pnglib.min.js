!function(){function i(i,t){for(var s=2;s<arguments.length;s++)for(var h=0;h<arguments[s].length;h++)i[t++]=arguments[s].charAt(h)}function t(i){return String.fromCharCode(i>>8&255,255&i)}function s(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,255&i)}function h(i){return String.fromCharCode(255&i,i>>8&255)}var f=function(f,e,r){this.width=f,this.height=e,this.depth=r,this.pix_size=e*(f+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*r+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+r+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var o=new Array,n=0;n<this.buffer_size;n++)this.buffer[n]="\0";i(this.buffer,this.ihdr_offs,s(this.ihdr_size-12),"IHDR",s(f),s(e),"\b"),i(this.buffer,this.plte_offs,s(this.plte_size-12),"PLTE"),i(this.buffer,this.trns_offs,s(this.trns_size-12),"tRNS"),i(this.buffer,this.idat_offs,s(this.idat_size-12),"IDAT"),i(this.buffer,this.iend_offs,s(this.iend_size-12),"IEND");var d=30912;d+=31-d%31,i(this.buffer,this.idat_offs+8,t(d));for(var n=0;(n<<16)-1<this.pix_size;n++){var a,_;n+65535<this.pix_size?(a=65535,_="\0"):(a=this.pix_size-(n<<16)-n,_=""),i(this.buffer,this.idat_offs+8+2+(n<<16)+(n<<2),_,h(a),h(~a))}for(var n=0;n<256;n++){for(var u=n,p=0;p<8;p++)u=1&u?-306674912^u>>1&2147483647:u>>1&2147483647;o[n]=u}this.index=function(i,t){var s=t*(this.width+1)+i+1;return this.idat_offs+8+2+5*Math.floor(s/65535+1)+s},this.color=function(i,t,s,h){h=h>=0?h:255;var f=((h<<8|i)<<8|t)<<8|s;if(void 0===this.palette[f]){if(this.pindex==this.depth)return"\0";var e=this.plte_offs+8+3*this.pindex;this.buffer[e+0]=String.fromCharCode(i),this.buffer[e+1]=String.fromCharCode(t),this.buffer[e+2]=String.fromCharCode(s),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(h),this.palette[f]=String.fromCharCode(this.pindex++)}return this.palette[f]},this.getBase64=function(){var i,t,s,h,f,e,r,o=this.getDump(),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=o.length,a=0,_="";do{i=o.charCodeAt(a),h=i>>2,t=o.charCodeAt(a+1),f=(3&i)<<4|t>>4,s=o.charCodeAt(a+2),e=d<a+2?64:(15&t)<<2|s>>6,r=d<a+3?64:63&s,_+=n.charAt(h)+n.charAt(f)+n.charAt(e)+n.charAt(r)}while((a+=3)<d);return _},this.getDump=function(){function t(t,h,f){for(var e=-1,r=4;r<f-4;r+=1)e=o[255&(e^t[h+r].charCodeAt(0))]^e>>8&16777215;i(t,h+f-4,s(-1^e))}for(var h=1,f=0,e=5552,r=0;r<this.height;r++)for(var n=-1;n<this.width;n++)h+=this.buffer[this.index(n,r)].charCodeAt(0),f+=h,0==(e-=1)&&(h%=65521,f%=65521,e=5552);return h%=65521,f%=65521,i(this.buffer,this.idat_offs+this.idat_size-8,s(f<<16|h)),t(this.buffer,this.ihdr_offs,this.ihdr_size),t(this.buffer,this.plte_offs,this.plte_size),t(this.buffer,this.trns_offs,this.trns_size),t(this.buffer,this.idat_offs,this.idat_size),t(this.buffer,this.iend_offs,this.iend_size),"Â‰PNG\r\n\n"+this.buffer.join("")}};"undefined"!=typeof module&&void 0!==module.exports?module.exports=f:window.PNGlib=f}();